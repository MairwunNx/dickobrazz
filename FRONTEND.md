# üå∂Ô∏è Dickobot Web: –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-–≤–µ—Ä—Å–∏–∏ –î–∏–∫–æ–±—Ä–∞–∑–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º 3D-–≥—Ä–∞—Ñ–∏–∫–∏, –∏–≥—Ä–æ–≤—ã—Ö –º–µ—Ö–∞–Ω–∏–∫ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

## 1. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∏ –¶–µ–ª–∏

**–¶–µ–ª—å**: –°–æ–∑–¥–∞—Ç—å –∏–º–º–µ—Ä—Å–∏–≤–Ω—É—é –≤–µ–±-–≤–µ—Ä—Å–∏—é –±–æ—Ç–∞, –ø—Ä–µ–≤—Ä–∞—Ç–∏–≤ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π "—Ä–æ–ª–ª" —Ä–∞–∑–º–µ—Ä–∞ –≤ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å (CS:GO style —Ä—É–ª–µ—Ç–∫–∞).

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- **3D –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Three.js –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ä—É–ª–µ—Ç–∫–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.
- **–ï–¥–∏–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞**: –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å Telegram-–±–æ—Ç–æ–º (—Ä–∞–∑–º–µ—Ä, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è).
- **Provably Fair**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Å—Ç–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (—Ö–µ—à + —Å–æ–ª—å).
- **Game UI**: –î–∏–∑–∞–π–Ω –≤ —Å—Ç–∏–ª–µ –∏–≥—Ä–æ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (Dark mode, Gaming aesthetic).

---

## 2. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend (Golang)
–¢–µ–∫—É—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–æ, –Ω–µ –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–æ.
- **Server**: `net/http` (–∏–ª–∏ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π —Ä–æ—É—Ç–µ—Ä —Ç–∏–ø–∞ `chi`/`mux`) ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å Telegram-–±–æ—Ç–æ–º.
- **Auth**: –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç Telegram Login Widget (HMAC-SHA-256).
- **Logic**: –í—ã–¥–µ–ª–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏–∑ —Ç–µ–ª–µ–≥—Ä–∞–º-—Ö–µ–Ω–¥–ª–µ—Ä–æ–≤ –≤ `Service Layer`.

### Frontend (SPA)
- **Core**: React 19 + TypeScript + Vite.
- **3D**: `react-three-fiber` (@react-three/drei) ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ Three.js.
- **Styling**: TailwindCSS (—É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤–µ—Ä—Å—Ç–∫–∏, —É–¥–æ–±–Ω–∞—è —Ç–µ–º–∏–∑–∞—Ü–∏—è).
- **Assets**: Apple Emojis (PNG/SVG) –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–∞–∫ —Ç–µ–∫—Å—Ç—É—Ä—ã –∏ –∏–∫–æ–Ω–∫–∏.

---

## 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–¥–µ–ª–∏—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (Telegram/Web) –æ—Ç –¥–∞–Ω–Ω—ã—Ö.

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
`Telegram Handler` -> `Database Logic` -> `Formatted Message String`

### –¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
1. **Core Service**:
   - `GetCockSize(userID) -> (Size, Stats, IsNew)`
   - `GetLeaderboard() -> []Entry`
2. **Presenters**:
   - **Telegram Handler**: –í—ã–∑—ã–≤–∞–µ—Ç Core -> –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç Markdown -> –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ —á–∞—Ç.
   - **HTTP Handler**: –í—ã–∑—ã–≤–∞–µ—Ç Core -> –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç JSON -> –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ —Ñ—Ä–æ–Ω—Ç.

---

## 4. –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è API

API –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª inline-–∑–∞–ø—Ä–æ—Å–æ–≤ –±–æ—Ç–∞.

### Auth
- **Telegram Widget Data**:
  - `id` (int): Unique identifier.
  - `first_name` (string): First name.
  - `last_name` (string, opt): Last name.
  - `username` (string, opt): Username.
  - `photo_url` (string, opt): Profile picture URL.
  - `auth_date` (int): Timestamp.
  - `hash` (string): HMAC-SHA-256 signature.

- `POST /api/auth/login` ‚Äî –í–∞–ª–∏–¥–∞—Ü–∏—è hash –Ω–∞ –±—ç–∫–µ–Ω–¥–µ.
- `GET /api/me` ‚Äî –î–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —é–∑–µ—Ä–∞.

### Game & Mechanics
–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É –∏–∑ `application/queries.go`:

- `POST /api/cock/size` (ex. `InlineQueryCockSize`)
  - **Action**: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∑–∞ —Å–µ–≥–æ–¥–Ω—è.
  - **Response**: `size` (int), `hash` (sha256), `salt` (string).

- `GET /api/cock/ruler` (ex. `InlineQueryCockRuler`)
  - **Action**: –¢–æ–ø-13 –ª–∏–¥–µ—Ä–æ–≤ –¥–Ω—è.

- `GET /api/cock/race` (ex. `InlineQueryCockRace`)
  - **Action**: –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ–∑–æ–Ω–∞ (Total Size).

- `GET /api/cock/dynamic` (ex. `InlineQueryCockDynamic`)
  - **Action**: –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏ —Ä–æ—Å—Ç–∞.

- `GET /api/cock/seasons` (ex. `InlineQueryCockSeason`)
  - **Action**: –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—à–ª—ã—Ö —Å–µ–∑–æ–Ω–æ–≤.

- `GET /api/cock/achievements` (ex. `InlineQueryCockAchievements`)
  - **Action**: –°–ø–∏—Å–æ–∫ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞—á–∏–≤–æ–∫.

- `GET /api/cock/ladder` (ex. `InlineQueryCockLadder`)
  - **Action**: –û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (Top 50+).

---

## 5. –í–∏–∑—É–∞–ª –∏ –ê—Å—Å–µ—Ç—ã

### Emojis & Icons
–í—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —ç–º–æ–¥–∑–∏ –∏–∑ –±—ç–∫–µ–Ω–¥–∞ –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ **Apple Emoji Images** (PNG/SVG) –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ.

1.  **Size Emojis** (–∏–∑ `application/emoji.go`):
    - –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∏ —Å–µ–∑–æ–Ω–∞ (Winter, Spring, etc.) –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤ (NewYear, Valentine).
    - –ü—Ä–∏–º–µ—Ä: 0-1 —Å–º -> `üéÅ.png` (NewYear) –∏–ª–∏ `ü•∂.png` (Winter).
    - –†—É–ª–µ—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞–∫ —Ç–µ–∫—Å—Ç—É—Ä—ã –Ω–∞ –±–∞—Ä–∞–±–∞–Ω–µ.

2.  **Region Badges** (–∏–∑ `application/geo/regions.go`):
    - –†–∞–∑–º–µ—Ä (0-60) –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Ä–µ–≥–∏–æ–Ω—É –†–§.
    - –ü—Ä–∏–º–µ—Ä: 50 —Å–º -> "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –û—Å—Ç–∞–Ω–∫–∏–Ω—Å–∫–∞—è –±–∞—à–Ω—è".
    - –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–∞ —Å –∫–æ–∫–æ–º. (–ø–æ—Å–ª–µ –≤—ã–ø–∞–¥–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –∫–æ–∫–∞ –≤ —Ä–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä–µ)

### –ì–ª–∞–≤–Ω–∞—è —Å—Ü–µ–Ω–∞ (–†—É–ª–µ—Ç–∫–∞)
- **–°—Ç–∏–ª—å**: CS:GO Case Opening.
- **–û–±—ä–µ–∫—Ç—ã**: 3D –º–æ–¥–µ–ª–∏ –∏–ª–∏ "–ö–∞—Ä—Ç–æ—á–∫–∏" —Å Apple Emoji –≤ 3D –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ.
- **–ê–Ω–∏–º–∞—Ü–∏—è**: –†–∞–∑–≥–æ–Ω -> –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ -> –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –≤—ã–ø–∞–≤—à–µ–º —Ä–∞–∑–º–µ—Ä–µ.
- **Provably Fair**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Hash –¥–æ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏, Salt –ø–æ—Å–ª–µ.

---

## 6. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (Roadmap)

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë—ç–∫–µ–Ω–¥–∞ (Services)
1. [ ] –°–æ–∑–¥–∞—Ç—å `application/services/`.
2. [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `InlineQueryCockSize` -> `CockService.GetDailySize()`.
3. [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (Race, Ruler, etc.).

### –≠—Ç–∞–ø 2: API Layer
1. [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `application/api/server.go`.
2. [ ] Auth Middleware (Telegram Hash Check).
3. [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `/api/cock/*`.

### –≠—Ç–∞–ø 3: Frontend Setup
1. [ ] Vite + React + TS.
2. [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—Å—Å–µ—Ç–æ–≤ (—Å–∫–∞—á–∞—Ç—å –ø–∞–∫ Apple Emojis).
3. [ ] Telegram Login Widget –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è.

### –≠—Ç–∞–ø 4: Gameplay (3D)
1. [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä—É–ª–µ—Ç–∫–∏ –Ω–∞ R3F (React Three Fiber).
2. [ ] –õ–æ–≥–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å API.

### –≠—Ç–∞–ø 5: UI & Stats
1. [ ] –°—Ç—Ä–∞–Ω–∏—Ü—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (Charts).
2. [ ] –ê—á–∏–≤–∫–∏.
3. [ ] –ê–¥–∞–ø—Ç–∏–≤ –ø–æ–¥ –º–æ–±–∏–ª–∫–∏.
